<%+ extend('layouts/index') %>
<!-- -->

<%+ section('sidebar-menu') %>
<!-- -->

<li class="nav-item">
	<a href="#" class="nav-link">
		<i class="nav-icon fas fa-users"></i>
		<p>
			Clientes
			<i class="right fas fa-angle-left"></i>
		</p>
	</a>
	<ul class="nav nav-treeview">
		<li class="nav-item">
			<a href="#" class="nav-link">
				<i class="fas fa-user-plus nav-icon"></i>
				<p>
					Nuevo Cliente
					<i class="right fas fa-angle-left"></i>
				</p>
			</a>
			<ul class="nav nav-treeview">
				<li class="nav-item">
					<a
						href="../customers/create-corporate"
						class="nav-link"
					>
						<i class="fas fa-user-tie nav-icon"></i>
						<p>Corporativo</p>
					</a>
				</li>
				<li class="nav-item">
					<a href="../customers/create-private" class="nav-link">
						<i class="fas fa-user-alt nav-icon"></i>
						<p>Particular</p>
					</a>
				</li>
			</ul>
		</li>
	</ul>
</li>
<li class="nav-item menu-open">
	<a href="#" class="nav-link">
		<i class="fas fa-calendar nav-icon"></i>
		<p>
			Agenda
			<i class="right fas fa-angle-left"></i>
		</p>
	</a>
	<ul class="nav nav-treeview">
		<li class="nav-item">
			<a href="#" class="nav-link active">
				<i class="fas fa-calendar-plus nav-icon"></i>
				<p>Agendar Cita</p>
			</a>
		</li>
		<li class="nav-item">
			<a href="./secretary-activities" class="nav-link">
				<i class="fas fa-calendar-alt nav-icon"></i>
				<p>Mostrar Agenda</p>
			</a>
		</li>
	</ul>
</li>

<%+ endSection %>
<!-- -->

<%+ section('body') %>
<!-- -->

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
	<!-- Content Header (Page header) -->
	<div class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
					<h1 class="m-0">Formulario cita</h1>
				</div>

				<!-- /.col -->
				<!--div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                  <li class="breadcrumb-item"><a href="#">Seccion</a></li>
                  <li class="breadcrumb-item active">Seccion</li>
                </ol>
              </div-->
				<!-- /.col -->
			</div>
			<!-- /.row -->
		</div>
		<!-- /.container-fluid -->
	</div>
	<!-- /.content-header -->

	<!-- Main content -->

	<section class="content">
		<div class="container-fluid">
			<!-- SELECT2 EXAMPLE -->
			<div class="card card-default">
				<div class="card-header">
					<h3 class="card-title">Cliente</h3>
					<div class="card-tools">
						<button
							type="button"
							class="btn btn-tool"
							data-card-widget="collapse"
						>
							<i class="fas fa-minus"></i>
						</button>
						<button
							type="button"
							class="btn btn-tool"
							data-card-widget="remove"
						>
							<i class="fas fa-times"></i>
						</button>
					</div>
				</div>
				<!-- /.card-header -->
				<div class="card-body">
					<div class="row">
						<div class="card-body">
							<div class="form-group">
								<label>Cliente</label>
								<select
									class="form-control select2"
									style="width: 100%"
									name="id_cliente"
									required
								>
									<% customers.forEach(customer => {
									%>
									<option
										value="<%= customer.id_cliente %>"
									>
										<%= customer.razon_social ?
										customer.razon_social :
										customer.nombre_apellido %>
									</option>
									<% }) %>
								</select>
							</div>
						</div>

						<!--div class="col-md-6">
                <div class="form-group">
              <label for="inputName">Razón:</label>
              <input type="text" id="inputName" class="form-control" />
            </div>
                <div class="form-group">
              <label for="inputName">CUIT:</label>
              <input type="text" id="inputName" class="form-control" />
            </div>
            <div class="form-group">
                        <label for="exampleInputEmail1">Email address</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
                      </div>
                <!-- /.form-group -->
						<!--/div-->
						<!-- /.col -->
						<!--div class="col-md-6">
                    <div class="form-group">
              <label for="inputName">DNI:</label>
              <input type="text" id="inputName" class="form-control" />
            </div>
                <label>Fecha Nacimiento:</label>
                    <div class="input-group date" id="reservationdate" data-target-input="nearest">
                        <input type="text" class="form-control datetimepicker-input" data-target="#reservationdate"/>
                        <div class="input-group-append" data-target="#reservationdate" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                 <label>Teléfono:</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fas fa-phone"></i></span>
                    </div>
                    <input type="text" class="form-control" data-inputmask='"mask": "(999) 999-999"' data-mask>
                  </div>  
            </div-->
						<!-- /.col -->
					</div>
				</div>
			</div>
		</div>
		<!-- /.card -->
		<!--div class="row">
          <div class="col-md-6"-->
		<div class="row">
			<div class="col-md-12">
				<div class="card card-default">
					<div class="card-header">
						<h3 class="card-title">
							Dia y hora para la cita
						</h3>
						<div class="card-tools">
							<button
								type="button"
								class="btn btn-tool"
								data-card-widget="collapse"
							>
								<i class="fas fa-minus"></i>
							</button>
							<button
								type="button"
								class="btn btn-tool"
								data-card-widget="remove"
							>
								<i class="fas fa-times"></i>
							</button>
						</div>
					</div>
					<div class="card-body">
						<!-- Date -->
						<div class="form-group">
							<label>Fecha</label>
							<div
								class="input-group date"
								id="reservationdateD"
								data-target-input="nearest"
							>
								<input
									type="text"
									class="form-control datetimepicker-input"
									data-target="#reservationdateD"
									name="fecha_hs"
									required
								/>
								<div
									class="input-group-append"
									data-target="#reservationdateD"
									data-toggle="datetimepicker"
								>
									<div class="input-group-text">
										<i class="fa fa-calendar"></i>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label>Motivo</label>
							<select
								class="form-control select2"
								style="width: 100%"
								name="id_actividad"
								required
							>
								<% motives.forEach(motive => { %>
								<option
									value="<%= motive.id_actividad %>"
								>
									<%= motive.motivo %>
								</option>
								<% }) %>
							</select>
						</div>
						<label>Descripción</label>
						<textarea
							class="form-control"
							rows="4"
							placeholder="Ingrese ..."
							name="descripcion"
							maxlength="128"
							required
						></textarea>
					</div>
					<!-- /.card-body -->
				</div>
			</div>
			<!-- /.col (right) -->
			<!--/div>
      </div-->
		</div>

		<div class="row">
			<div class="col-md-12">
				<div class="card card-default">
					<div class="card-header">
						<h3 class="card-title">
							Agente inmobiliario y propiedad
						</h3>
						<div class="card-tools">
							<button
								type="button"
								class="btn btn-tool"
								data-card-widget="collapse"
							>
								<i class="fas fa-minus"></i>
							</button>
							<button
								type="button"
								class="btn btn-tool"
								data-card-widget="remove"
							>
								<i class="fas fa-times"></i>
							</button>
						</div>
					</div>
					<div class="card-body">
						<div class="form-group">
							<label>Agente inmobiliario</label>
							<select
								class="form-control select2"
								style="width: 100%"
								name="legajo_agente"
								required
							>
								<% agents.forEach(agent => { %>
								<option value="<%= agent.legajo %>">
									<%= agent.nombre_apellido %>
								</option>
								<% }) %>
							</select>
						</div>
						<!-- /.form-group -->
						<!-- /.form-group -->
						<div class="form-group">
							<label>Propiedad</label>
							<select
								class="form-control select2"
								style="width: 100%"
								name="codigo_inmueble"
								required
							>
								<% realestates.forEach(realestate => {
								%>
								<option
									value="<%= realestate.codigo_propiedad %>"
								>
									Propiedad COD: <%=
									realestate.codigo_propiedad%>,
									descripcion: <%=
									realestate.descripcion_breve%>
								</option>
								<% }) %>
							</select>
						</div>
						<!-- /.form-group -->
					</div>
				</div>
				<!-- /.card-body -->
			</div>
		</div>
		<!-- /.col (right) -->

		<div class="card-footer">
			<button type="submit" class="btn btn-info">GUARDAR</button>
			<button type="submit" class="btn btn-default float-right">
				CANCELAR
			</button>
		</div>
	</section>
</div>

<%+ endSection %>
<!-- -->

<%+ section('scripts') %>
<!-- -->

<script type="text/javascript">
	$(function () {
		$('.select2').select2();

		$('#reservationdateD').datetimepicker({
			icons: {
				time: 'fa fa-clock-o',
				date: 'fa fa-calendar',
				up: 'fa fa-arrow-up',
				down: 'fa fa-arrow-down',
			},
		});
	});
</script>

<%+ endSection %>
